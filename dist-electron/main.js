"use strict";const t=require("electron"),c=require("path"),f=require("fs");function l(e){const n=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const o in e)if(o!=="default"){const r=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(n,o,r.get?r:{enumerable:!0,get:()=>e[o]})}}return n.default=e,Object.freeze(n)}const p=l(c),s=l(f);let a=null;const i=()=>{a=new t.BrowserWindow({width:1200,height:800,webPreferences:{nodeIntegration:!0,contextIsolation:!1,webSecurity:!1}}),process.env.NODE_ENV==="development"?(a.loadURL("http://localhost:5173"),a.webContents.openDevTools()):a.loadFile(p.join(__dirname,"../index.html"))};t.app.whenReady().then(()=>{i(),t.app.on("activate",()=>{t.BrowserWindow.getAllWindows().length===0&&i()})});t.app.on("window-all-closed",()=>{process.platform!=="darwin"&&t.app.quit()});t.ipcMain.handle("open-pdf",async()=>{const e=await t.dialog.showOpenDialog({properties:["openFile"],filters:[{name:"PDF Files",extensions:["pdf"]}]});if(!e.canceled&&e.filePaths.length>0){const n=e.filePaths[0],o=s.readFileSync(n);return{path:n,content:o}}return null});t.ipcMain.handle("save-pdf",async(e,{filePath:n,content:o})=>{try{const r=await t.dialog.showSaveDialog({defaultPath:n,filters:[{name:"PDF Files",extensions:["pdf"]}]});return!r.canceled&&r.filePath?(s.writeFileSync(r.filePath,Buffer.from(o)),!0):!1}catch(r){return console.error("Error saving PDF:",r),!1}});
